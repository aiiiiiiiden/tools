# 서브태스크 TODO 앱 제품 요구사항 문서 (PRD)

## 1. 개요

본 문서는 서브태스크(Subtask) 기능을 포함한 TODO 애플리케이션의 제품 요구사항을 정의합니다. 사용자는 이 앱을 통해 주요 작업을 TODO 항목으로 등록하고, 각 TODO를 더 작은 단위의 서브태스크로 나누어 관리할 수 있습니다. 이를 통해 작업 관리의 효율성을 높이고 생산성을 향상시키는 것을 목표로 합니다.

## 2. 목표

-   간단하고 직관적인 인터페이스를 통해 TODO 및 서브태스크를 쉽게 관리할 수 있도록 한다.
-   사용자가 복잡한 작업을 작은 실행 단위로 분해하여 체계적으로 관리할 수 있도록 지원한다.
-   앱을 종료했다가 다시 실행해도 데이터가 유지되도록 로컬 데이터 저장 기능을 제공한다.
-   요구된 기술 스택(shared_preferences, setState, InheritedModel)을 사용하여 효율적인 상태 관리 및 데이터 영속성을 구현한다.
-   Material Design 3를 적용하여 현대적이고 일관된 사용자 경험을 제공한다.

## 3. 대상 사용자

-   개인 프로젝트나 일상 업무를 체계적으로 관리하고 싶은 학생 및 직장인
-   큰 목표를 작은 단계로 나누어 실행하며 진행 상황을 추적하고 싶은 모든 사용자
-   간단하면서도 구조화된 작업 관리 도구를 선호하는 사용자

## 4. 기능 요구사항

### 4.1. TODO 항목 관리

-   **추가**: 사용자는 새로운 TODO 항목을 추가할 수 있다. 각 TODO 항목은 제목을 가진다.
-   **수정**: 사용자는 기존 TODO 항목의 제목을 수정할 수 있다.
-   **삭제**: 사용자는 TODO 항목을 삭제할 수 있다. 삭제 시 확인 절차를 거쳐야 한다.

### 4.2. 서브태스크 관리

-   **추가**: 각 TODO 항목에 여러 개의 서브태스크를 추가할 수 있다. 각 서브태스크는 제목을 가진다.
-   **수정**: 사용자는 기존 서브태스크의 제목을 수정할 수 있다.
-   **삭제**: 사용자는 서브태스크를 삭제할 수 있다.

### 4.3. 완료 상태 관리

-   **상태 변경**: 사용자는 TODO 항목과 서브태스크 각각에 대해 완료 여부를 체크(Check) 또는 해제(Uncheck)할 수 있다.
-   **시각적 피드백**: 완료된 항목은 취소선이나 흐린 색상으로 표시하여 미완료 항목과 구분한다.
-   **상태 동기화**:
    -   TODO 항목을 완료로 체크하면 해당 항목에 속한 모든 서브태스크도 함께 완료 처리된다.
    -   TODO 항목이 미완료 상태일 때, 모든 서브태스크가 완료되면 TODO 항목도 자동으로 완료 처리될 수 있다 (선택적 기능).

## 5. 비기능 요구사항

### 5.1. 데이터 저장 (Persistence)

-   **로컬 저장**: 모든 TODO 및 서브태스크 데이터는 사용자의 디바이스에 로컬로 저장되어야 한다.
-   **저장 기술**: 데이터 영속성을 위해 `shared_preferences` 패키지를 사용한다.
-   **데이터 형식**: 데이터는 `shared_preferences`에 저장하기 위해 JSON 형식으로 직렬화(Serialization) 및 역직렬화(Deserialization) 과정을 거친다.

### 5.2. 상태 관리 (State Management)

-   **기본 상태 관리**: 위젯의 로컬 상태 변경은 `setState`를 사용하여 관리한다.
-   **효율적인 상태 전파**: 앱의 전역적인 상태나 여러 위젯에 걸쳐 공유되는 상태는 `InheritedModel`을 사용하여 필요한 위젯에만 효율적으로 상태 변경을 전파한다. 이를 통해 불필요한 위젯 리빌드를 최소화한다.

### 5.3. 사용자 인터페이스 (UI) 및 경험 (UX)

-   **디자인 시스템**: 앱의 전체적인 UI는 Material Design 3 가이드라인을 준수한다.
-   **컴포넌트**: `Card`, `ListTile`, `Checkbox`, `TextField`, `FloatingActionButton`, `AlertDialog` 등 Material 3 스타일의 위젯을 사용한다.
-   **레이아웃**: 반응형 레이아웃을 고려하여 다양한 화면 크기에서도 일관된 사용성을 제공한다.

## 6. UI 흐름 (User Flow)

1.  **메인 화면**:
    -   앱 실행 시 저장된 모든 TODO 항목의 목록이 표시된다.
    -   각 TODO 항목은 제목, 완료 체크박스, 그리고 서브태스크 목록을 펼쳐볼 수 있는 확장 아이콘을 포함한다.
    -   화면 우측 하단에는 새로운 TODO를 추가하기 위한 `FloatingActionButton`이 위치한다.

2.  **TODO 추가/수정**:
    -   `FloatingActionButton`을 누르면 TODO 제목을 입력할 수 있는 다이얼로그(Dialog) 또는 별도 화면이 나타난다.
    -   기존 TODO 항목을 길게 누르거나 수정 아이콘을 탭하면 제목을 수정할 수 있는 다이얼로그가 나타난다.

3.  **서브태스크 보기 및 관리**:
    -   TODO 항목을 탭하거나 확장 아이콘을 누르면 해당 항목에 속한 서브태스크 목록이 나타난다.
    -   각 서브태스크 옆에는 완료 체크박스와 수정/삭제 옵션이 제공된다.
    -   TODO 항목 하단에 '서브태스크 추가' 버튼을 두어 새로운 서브태스크를 입력할 수 있도록 한다.

## 7. 향후 개선 사항 (V1 범위 제외)

-   TODO 항목의 우선순위(상/중/하) 설정 기능
-   마감일 및 알림 기능
-   데이터 백업 및 복원을 위한 클라우드 동기화 (예: Firebase)
-   카테고리 또는 태그를 이용한 TODO 분류 기능
-   더 나은 사용자 경험을 위한 애니메이션 효과 추가
